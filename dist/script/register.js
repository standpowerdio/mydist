"use strict";!function(o){var r=o(".username"),l=o(".password"),e=o(".password_again"),a=o(".email"),s=o("form"),c=o(".regbox p"),t=/^[a-zA-Z0-9_-]{4,16}$/,d=/^[A-Za-z0-9]+([_\.][A-Za-z0-9]+)*@([A-Za-z0-9\-]+\.)+[A-Za-z]{2,6}$/,n=/^(?=.*[a-z])(?=.*[A-Z])[a-zA-Z0-9~!@&%#_]{8,16}$/,m={name:!1,password:!1,email:!1};r.on("blur",function(){""===r.val()?(c.eq(0).html("用户名不能为空"),r.css("border-color","#F22727"),m.name=!1):t.test(r.val())?o.ajax({url:"http://localhost/xiangmu/php/register.php",data:{xingming:r.val()}}).done(function(o){o?(c.eq(0).html("用户名已被使用"),r.css("border-color","#F22727"),m.name=!1):(c.eq(0).html(""),r.css("border-color","#dcdcdc"),m.name=!0)}):(c.eq(0).html("请输入4-16位字母和数字组成的用户名"),r.css("border-color","#F22727"),m.name=!1)}),a.on("blur",function(){""===a.val()?(c.eq(1).html("邮箱不能为空"),a.css("border-color","#F22727"),m.email=!1):d.test(a.val())?o.ajax({url:"http://localhost/xiangmu/php/register.php",data:{youxiang:a.val()}}).done(function(o){o?(c.eq(1).html("此邮箱已被使用"),a.css("border-color","#F22727"),m.email=!1):(c.eq(1).html(""),a.css("border-color","#dcdcdc"),m.email=!0)}):(c.eq(1).html("邮箱格式不正确"),a.css("border-color","#F22727"),m.email=!1)}),l.on("blur",function(){""===l.val()?(c.eq(2).html("密码不能为空"),l.css("border-color","#F22727")):n.test(l.val())?(c.eq(2).html(""),l.css("border-color","#dcdcdc")):(c.eq(2).html("请输入8到16位包含至少一个大写和一个小写的密码"),l.css("border-color","#F22727"))}),e.on("blur",function(){""===e.val()?(c.eq(3).html("请确认密码"),e.css("border-color","#F22727"),m.password=!1):e.val()!==l.val()?(c.eq(3).html("两次输入的密码不一致"),e.css("border-color","#F22727"),m.password=!1):(c.eq(3).html(""),e.css("border-color","#dcdcdc"),m.password=!0)}),s.on("submit",function(){if(r.blur(),a.blur(),l.blur(),e.blur(),!(m.name&&m.email&&m.password))return!1})}(jQuery);